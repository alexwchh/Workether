<div class="content-wrap">
  <div class="task-detail">
    <!-- <section class="detail-content"> -->
    <section class="detail-content">
      <div class="task-detail-header-wrap">
        <div class="task-detail-header">
          <div class="menus-wrap flex">
            <div class="task-detail-navs flex-vcenter task-tasklist-stage-wrap">
              <span class="item task-detail-project">{{data.project.project_name}}</span>
              <span class="divider">Â·</span>
              <span class="item task-detail-stage">{{data.tasklist.task_list_title}}</span>
            </div>
            <div class="menu-right flex-space flex flex-vcenter flex-end">
              <button mat-icon-button tabindex="-1" class="menu-handler flex-vcenter">
                <mat-icon class="mat-18">more_horiz</mat-icon>
              </button>
              <button mat-icon-button tabindex="-1" class="close-handler flex-vcenter" (click)="onNoClick()">
                <mat-icon class="mat-18">close</mat-icon>
              </button>
            </div>
          </div>
          <div class="task clearfix ">
            <mat-checkbox [(ngModel)]="data.target.task_isComplete" [class.isComplete]="data.target.task_isComplete" class="check-box non-checkable hinted" color="primary"></mat-checkbox>
            <span class="label task-id-label"></span>
            <input class="task-content-input hinted" [(ngModel)]="data.target.task_title" [value]="data.target.task_title">
          </div>
        </div>
      </div>
      <div class="task-detail-basic-attrs">
        <div class="task-basic-attrs-view flex">

          <div class="task-detail-handler datetime flex">

            <div class="component-mount due-date">

              <mat-form-field class="datepicker-form">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <input matInput [(ngModel)]="data.target.task_remindDate" [matDatepicker]="picker" placeholder="Due date">
              </mat-form-field>


             
           
              <button mat-icon-button class="repeatBtn" (click)="selectRepeat()" >
                <mat-icon class="mat-18 mat-icon-grey">settings_backup_restore</mat-icon>
              </button>
              <mat-form-field class="repeatSelect">
                <mat-select  class="select-repeat-items" placeholder="Set Repeat" [(value)]="data.target.task_repeat">
                  <mat-option value="0">None</mat-option>
                  <mat-option value="1">Per Day</mat-option>
                  <mat-option value="2">Per Week</mat-option>
                  <mat-option value="3">Per Month</mat-option>
                  <mat-option value="4">Per Year</mat-option>

                </mat-select>
              </mat-form-field>
              <button mat-icon-button class="notiBtn">
                <mat-icon class="mat-18 mat-icon-grey">alarm</mat-icon>
              </button>
              <mat-form-field class="notiSelect">
                <mat-select class="select-noti-items" placeholder="Set Reminder" [(value)]="data.target.task_remind">
                  <mat-option value="0">None</mat-option>
                  <mat-option value="1">Disable</mat-option>
                  <mat-option value="2">on time</mat-option>
                  <mat-option value="3">5 Min early</mat-option>
                  <mat-option value="4">30 Min early</mat-option>

                </mat-select>
              </mat-form-field>
            </div>
          </div>


        </div>
      </div>
      <mat-divider class="content-divider"></mat-divider>
      <div class="task-detail-scenario-infos-wrap">
        <section class="notes flex-horiz">
          <mat-icon class="mat-icon-grey" color="basic">description</mat-icon>
          <input class="description-input" [(ngModel)]="data.target.task_notes" [value]="data.target.task_notes">
        </section>
        <section class="priority flex">
          <mat-icon class="mat-icon-grey" color="basic">album</mat-icon>

          <mat-chip-list class="priority-chip-list">
            <mat-chip [selected]="priorityNormal" (click)="selectNomalPriority()" color="basic">normal</mat-chip>
            <mat-chip [selected]="priorityMedium" (click)="selectMediumPriority()" color="accent">medium</mat-chip>
            <mat-chip [selected]="priorityHigh" (click)="selectHighPriority()" color="warn">high</mat-chip>
          </mat-chip-list>
        </section>
        <section class="tag flex flex-vcenter">
          <mat-icon class="mat-icon-grey" color="basic">label</mat-icon>
          <mat-form-field class="demo-chip-list">
            <mat-chip-list class="tag-chip-list" #chipList>
              <mat-chip *ngFor="let tag of tags" [selectable]="selectable" [removable]="removable" (remove)="remove(tag)">
                {{tag.tag_title}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>
              <input [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
                (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
          </mat-form-field>
        </section>
      </div>
      <mat-divider class="content-divider"></mat-divider>
      <div class="task-detail-infos-wrap">
        <div class="detail-infos-view detail-infos-wrapper">
          <div class="detail-infos-subtask-view">
            <app-subtask [task]="data.target"></app-subtask>
          </div>
        </div>
        <mat-divider class="content-divider"></mat-divider>
      </div>
      <div class="task-detail-comments-wrap">
        <div *ngFor = "let comment of comments" class="comment-item-wrapper">
          <div class="comment-item">
            <div class="task-priority"></div>
            <span class="profile">W</span>
           
            <!-- <span>Although the icons in the </span> -->

            <div class="comment-content-set">
              <div class="user-name">{{comment.commenter}}</div>
              <header class="comment-content-wrapper">
                <div class="comment-content">{{comment.comment_content}}</div>
               
              </header>
              <section class="comment-info-wrapper">
                <div class="comment-infos">
                <span>{{comment.comment_time | date :"medium"}}</span>
                </div>
              </section>
            </div>

          </div>
          <mat-divider class="comment-divider"></mat-divider>
        </div>
      </div>

    </section>

  </div>
  <footer class="activity-creator-wrapper">
    <div class="comment-input-wrap">
        <input [(ngModel)]="commentInput" class="comment-input">
        <button class="send-button" mat-icon-button (click)="addComments()">
            <mat-icon class="mat-18">send</mat-icon>
        </button>
      </div>
        <!-- <mat-progress-bar mode="determinate" value="100"></mat-progress-bar> -->
  </footer>
</div>